<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="frames.css">
    <style>
        body {
            width: 1920px;
            height: 1080px;
            background-image: url('splash-empty.png');
            background-repeat: no-repeat;
            background-size: cover;
            overflow: hidden;
        }

        #splash-container {
            font-size: 2.2em;
            margin: 750px auto;
            text-align: center;
            width: 900px;
        }

        #splash-text {
            color: #000000;
        }
    </style>

    <script src="../node_modules/moment/min/moment.min.js"></script>

</head>

<body>
    <div id="splash-container">
        <div id="splash-text">
                Stream starts in:<br>00:00:00
        </div>
    </div>
    <script>
        const textBox = document.querySelector('#splash-text');
        const countdownReplicant = nodecg.Replicant('countdown', { defaultValue: { seconds: 60 * 60 * 10, active: false } });
        countdownReplicant.on('change', (newValue, oldValue) => {
            const remaining = moment.duration(newValue.seconds, 'seconds');
            const hours = remaining.hours().toString().padStart(2, '0');
            const minutes = remaining.minutes().toString().padStart(2, '0');
            const seconds = remaining.seconds().toString().padStart(2, '0');
            textBox.textContent = `Stream starts in:\n${hours}:${minutes}:${seconds}`;
        });
    </script>
</body>

</html>